{{ define "main" }}

<div class="post-layout">
    <article class="post-content">
        <header class="post-header">
            <div class="post-meta">
            </div>
            <h1 class="post-title">Nos spectacles</h1>
        </header>
        <div class="post-body">
            <div class="filter-section">
                <div class="filter-tags">
                    <div class="tag active">Tout</div>
                    <!-- Updated from Name to .Page.Title to keep uppercase first letter of tags 
                         Archives are the most present category, Reverse put it at the end 
                    -->
                    {{ range .Site.Taxonomies.tags.ByCount.Reverse }}
                    <div class="tag" data-tag="{{ .Name | urlize }}">{{ .Page.Title }}</div>
                    {{ end }}
                </div>
            </div>

            <div class="posts-list" id="posts-container">
                {{ $posts := where .Site.RegularPages "Section" "eq" "posts" }} {{
                $postsPerPage := 5 }} {{ range first $postsPerPage $posts }} {{ partial
                "post-list-item.html" . }} {{ end }}
            </div>

            {{ $posts := where .Site.RegularPages "Section" "eq" "posts" }} {{ if gt (len
            $posts) 3 }}
            <div class="load-more-section">
                <button id="load-more-btn" class="red-btn load-more-btn" data-loaded="5" data-total="{{ len $posts }}">
                    <span class="load-more-text">Pluuuuuuuuus</span>
                    <span class="load-more-icon">❄️</span>
                </button>
                <div class="load-more-loading" id="load-more-loading" style="display: none">
                    <span class="loading-text">Brewing more content...</span>
                    <div class="loading-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
            {{ end }}
        </div>
    </article>
    <aside class="sidebar">
        <nav class="toc">
            <h4>Raccourcis</h4>
            <div id="toc-content">
                <!-- TOC will be generated by JavaScript -->
            </div>
        </nav>
    </aside>
</div>


{{ end }}